<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JimSQL - 鏂囦欢绯荤粺鏁版嵁搴?路 JDBC 鍏煎 路 MCP Ready</title>
  <meta name="description" content="JimSQL: 鍩轰簬鏂囦欢绯荤粺鐨勮交閲忕骇鏁版嵁搴撱€傜函 Java銆佸鍣ㄥ寲銆丣DBC 鍏煎銆丮CP 闆嗘垚銆? />
  
    <link rel="stylesheet" href="assets/styles.css" />
<style>
    /* Theme toggle: solid icons; show sun on light, moon on dark */
    .btn.theme-toggle{border:0;background:transparent;padding:8px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;line-height:1;color:var(--fg)}
    .btn.theme-toggle:hover{background:rgba(255,255,255,0.10)}
    html[data-theme="light"] .btn.theme-toggle:hover{background:rgba(0,0,0,0.06)}
    .btn.theme-toggle .icon{width:20px;height:20px;display:block}
    html[data-theme="light"] .btn.theme-toggle .sun{display:block}
    html[data-theme="light"] .btn.theme-toggle .moon{display:none}
    html[data-theme="dark"] .btn.theme-toggle .sun{display:none}
    html[data-theme="dark"] .btn.theme-toggle .moon{display:block}
    /* Enlarge navbar logo for better legibility */
    .brand .logo-img{height:56px !important}
  </style>
  <style>@media (max-width:720px){ .brand .logo-img{ height:56px !important } }</style>
</head>
<body>
  <header class="site-header container">
    <div class="brand">
      <img class="logo-img" src="assets/logo.png" alt="JimSQL logo" />
      <span class="brand-text">JimSQL</span>
    </div>
        <nav class="nav">
      <a href="#features">特性</a>
      <a href="#quickstart">快速开始</a>
      <a href="#mcp">MCP 集成</a>
      <a href="#modules">模块</a>
      <a href="#build">构建与测试</a>
      <a href="#roadmap">路线图</a>
    </nav>
    <button id="themeToggle" class="btn theme-toggle" aria-label="鍒囨崲涓婚" title="鍒囨崲涓婚">
      <svg class="icon sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="5" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="11" y="19" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="1" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="19" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(45 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(135 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(225 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(315 12 12)" />
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <defs>
          <mask id="moon-mask">
            <rect width="24" height="24" fill="white" />
            <circle cx="14" cy="10" r="7" fill="black" />
          </mask>
        </defs>
        <circle cx="12" cy="12" r="8" fill="currentColor" mask="url(#moon-mask)" />
      </svg>
    </button>
    
  </header>

  <main>
        <section class="hero container" id="top">
      <!--            <img class="hero-logo" src="assets/logo.png" alt="JimSQL logo" />-->
      <h1 class="title gradient-text">JimSQL</h1>
      <p class="subtitle">Jim Isn't MySQL. 基于文件系统的轻量级数据库系统 (Java)。</p>
      <p class="subtext">纯 Java · 可嵌入 · 容器化 · JDBC 兼容 · MCP Ready</p>
      <div class="cta">
        <a class="btn primary" href="#quickstart">快速开始</a>
        <a class="btn" href="#features">查看特性</a>
        <a class="btn ghost" href="https://github.com/dafei1288/jimsql" target="_blank" rel="noopener">GitHub</a>
      </div>
    </section>

        <section class="container" id="features">
      <h2>核心特性</h2>
      <div class="grid">
        <div class="card glass">
          <h3>文件即数据库</h3>
          <p>以 CSV 文件为基础的数据存储与访问模型，直观、可视、易于集成现有工具链。</p>
        </div>
        <div class="card glass">
          <h3>轻量服务端</h3>
          <p>基于 Netty 的服务端，启动快、占用低，适合本地与容器环境。</p>
        </div>
        <div class="card glass">
          <h3>JDBC 兼容</h3>
          <p>提供驱动 <code>com.dafei1288.jimsql.jdbc</code>，支持 <code>PreparedStatement</code> 参数绑定；协议 <code>legacy</code>/<code>jspv1</code>（DML 返回值语义不同）。</p>
        </div>
        <div class="card glass">
          <h3>SQL 引擎</h3>
          <ul class="list">
            <li>SELECT 显式投影；ORDER BY / LIMIT</li>
            <li>WHERE 扩展：AND/OR/NOT、()、比较、LIKE、IN、IS [NOT] NULL</li>
            <li>JOIN：INNER / LEFT / CROSS</li>
            <li>GROUP BY / HAVING + 聚合（COUNT/SUM/AVG/MIN/MAX）</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>DML / SHOW</h3>
          <ul class="list">
            <li>DML：INSERT / UPDATE / DELETE（CSV 后端）</li>
            <li>SHOW：DATABASES、TABLES、DESCRIBE、SHOW CREATE TABLE、EXPLAIN</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>内置 ask_llm</h3>
          <p>从 <code>llm.csv</code> 读取配置，可在 SQL 覆盖；支持 OpenAI / 兼容 / Ollama；支持 <code>JIMSQL_LLM_DRYRUN=true</code> 无网络演练。</p>
        </div>
        <div class="card glass">
          <h3>MCP 集成</h3>
          <p>Spring Boot MCP Server，支持 stdio；连接通过环境变量（<code>JIMSQL_URL</code> 或主机/端口/DB/用户/密码）。</p>
        </div>
        <div class="card glass">
          <h3>容器化部署</h3>
          <p>官方镜像与 Compose 示例，一条命令即刻运行；可通过环境变量注入运行参数。</p>
        </div>
      </div>
    </section>

        <section class="container" id="quickstart">
      <h2>快速开始</h2>
      <div class="grid code-grid">
        <div class="card glass">
          <h3>Docker Compose</h3>
          <pre><code class="language-yaml">version: '3'
services:
  jimsql:
    privileged: true
    image: dafei1288/jimsql_server:1.0.0
    ports:
      - "8821:8821"
      - "8825:8825"
#   volumes:
#     - "./data:/jimsql/data"
    environment:
#     JAVA_OPTS: -agentlib:jdwp=transport=dt_socket,address=*:8825,server=y,suspend=n
      JAVA_ARGS: 8821 0.0.0.0 /jimsql/data</code></pre>
        </div>
        <div class="card glass">
          <h3>本地运行 (JAR)</h3>
          <pre><code class="language-bash">java -jar server/target/*-jar-with-dependencies.jar 8821 0.0.0.0 server/src/main/resources/datadir</code></pre>
        </div>
      </div>
    </section>

        <section class="container" id="mcp">
      <h2>MCP 集成与配置</h2>
      <p>优先使用环境变量 <code>JIMSQL_URL</code>。否则使用 <code>JIMSQL_HOST</code>/<code>JIMSQL_PORT</code>/<code>JIMSQL_DB</code>/<code>JIMSQL_USER</code>/<code>JIMSQL_PASSWORD</code>。启用 stdio：<code>MCP_STDIO=true</code> 或 JVM 参数 <code>-Dmcp.stdio=true</code>。</p>
      <div class="grid code-grid">
        <div class="card glass">
          <h3>Windows PowerShell (stdio, granular env)</h3>
          <pre><code class="language-powershell">="127.0.0.1"
="8821"
="test"
=""
=""
="true"
java -jar jimsql_mcp_server\target\jimsql_mcp_server-3.3.9.jar</code></pre>
        </div>
        <div class="card glass">
          <h3>Windows PowerShell (stdio, single URL)</h3>
          <pre><code class="language-powershell">="jdbc:jimsql://127.0.0.1:8821/test"
="true"
java -jar jimsql_mcp_server\target\jimsql_mcp_server-3.3.9.jar</code></pre>
          <h3>Bash (stdio)</h3>
          <pre><code class="language-bash">JIMSQL_URL="jdbc:jimsql://127.0.0.1:8821/test" MCP_STDIO=true \
  java -jar jimsql_mcp_server/target/jimsql_mcp_server-3.3.9.jar</code></pre>
        </div>
        <div class="card glass">
          <h3>示例 MCP 客户端配置</h3>
          <pre><code class="language-json">{
  "mcpServers": {
    "jimsql": {
      "command": "java",
      "args": ["-Dmcp.stdio=true", "-jar", "jimsql_mcp_server/target/jimsql_mcp_server-3.3.9.jar"],
      "env": {
        "JIMSQL_HOST": "127.0.0.1",
        "JIMSQL_PORT": "8821",
        "JIMSQL_DB": "test",
        "JIMSQL_USER": "",
        "JIMSQL_PASSWORD": ""
        // or only: "JIMSQL_URL": "jdbc:jimsql://127.0.0.1:8821/test"
      }
    }
  }
}</code></pre>
        </div>
      </div>
    </section>

        <section class="container" id="modules">
      <h2>模块结构</h2>
      <div class="grid">
        <div class="card glass"><h3>common/</h3><p>共享模型、元数据与工具。</p></div>
        <div class="card glass"><h3>server/</h3><p>Netty 服务端；包含 Dockerfile 与 docker-compose。</p></div>
        <div class="card glass"><h3>jdbc/</h3><p>JDBC 驱动：包名 <code>com.dafei1288.jimsql.jdbc</code>。</p></div>
        <div class="card glass"><h3>jimsql_mcp_server/</h3><p>Spring Boot MCP 集成，支持 stdio。</p></div>
      </div>
    </section>

        <section class="container" id="build">
      <h2>构建与测试</h2>
      <ul class="list">
        <li>全仓构建：<code>mvn clean install -DskipTests</code></li>
        <li>按模块构建：<code>mvn -pl server -am package -DskipTests</code></li>
        <li>运行服务端 (本地 JAR)：<code>java -jar server/target/*-jar-with-dependencies.jar 8821 0.0.0.0 server/src/main/resources/datadir</code></li>
        <li>Docker 启动：<code>docker compose -f server/docker-compose.yml up -d</code></li>
        <li>运行测试：<code>mvn test</code>；按模块：<code>mvn -pl jdbc test</code></li>
      </ul>
    </section>

        <section class="container" id="roadmap">
      <h2>路线图摘要</h2>
      <div class="grid">
        <div class="card glass">
          <h3>语法支持</h3>
          <ul class="list">
            <li>SELECT 增强：JOIN/WHERE/ORDER/LIMIT/UNION (部分)</li>
            <li>INSERT：VALUES、SELECT、SET (解析)</li>
            <li>计划中：UPDATE/DELETE、严格 DDL (CREATE/ALTER/DROP)</li>
            <li>SHOW/DESC/EXPLAIN 变体与测试完善</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>执行计划</h3>
          <ul class="list">
            <li>已实现：ORDER BY、LIMIT/OFFSET；WHERE 简单比较</li>
            <li>规划：GROUP BY/HAVING (COUNT/SUM/AVG)</li>
            <li>规划：JOIN 执行 (等值连接)</li>
          </ul>
        </div>
      </div>
      <p class="muted">默认端口：8821 (server)、8825 (debug)。默认数据目录：<code>server/src/main/resources/datadir</code>。</p>
    </section>
      <section class="container" id="updates">
      <h2>鏈€杩戞洿鏂?/h2>
      <ul class="list">
        <li>SELECT 鏄惧紡鎶曞奖锛氬彧杩斿洖閫夋嫨鐨勫垪锛涘彸琛ㄥ垪閲囩敤 <code>鍒悕.鍒?/code> 鏍囩</li>
        <li>JOIN 鎵ц涓?WHERE 鎵╁睍锛欰ND/OR/NOT銆両N/NOT IN銆丩IKE/NOT LIKE銆両S [NOT] NULL锛涘垪鍚嶄笉鍖哄垎澶у皬鍐欙紱鏁板€兼瘮杈冩寜鍏冩暟鎹?/li>
        <li>鍐呯疆鍑芥暟 <code>ask_llm</code>锛氭敮鎸?OpenAI / 鍏煎 / Ollama锛涗粠 <code>llm.csv</code> 璇诲彇閰嶇疆锛屽彲鍦?SQL 涓鐩栵紱<code>JIMSQL_LLM_DRYRUN=true</code> 鏃犵綉缁滄紨缁?/li>
        <li>鏃ュ織浣撶郴锛歭ogback锛汭NFO 鎵撳嵃 SQL锛孌EBUG 鎵撳嵃 plan/join/where/llm锛堜笉鎵撳嵃瀵嗛挜锛?/li>
        <li>JDBC PreparedStatement锛氬弬鏁扮粦瀹氫笌 executeQuery/executeUpdate/execute</li>
        <li>缁熶竴 JDK 21锛氭瀯寤轰笌鏂囨。宸茬粺涓€鑷?JDK 21</li>
      </ul>
      <div class="card glass">
        <h3>ask_llm 绀轰緥</h3>
        <pre><code class="language-sql">select ask_llm('浣犲ソ锛屼綘鏄皝锛?) from llm where name='ds';
select ask_llm('浣犲ソ', api_type='ollama', base_url='http://localhost:11434', model='llama3') from llm where name='local';</code></pre>
      </div>
    </section>
  </main>

    <footer class="site-footer container">
    <div>© JimSQL. All rights reserved.</div>
    <div class="muted">Built with Java 21+. 准备好接入你的文件与应用。</div>
  </footer>

  <script src="assets/app-light.js"></script>
</body>
</html>











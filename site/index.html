<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JimSQL - 鏂囦欢绯荤粺鏁版嵁搴?路 JDBC 鍏煎 路 MCP Ready</title>
  <meta name="description" content="JimSQL: 鍩轰簬鏂囦欢绯荤粺鐨勮交閲忕骇鏁版嵁搴撱€傜函 Java銆佸鍣ㄥ寲銆丣DBC 鍏煎銆丮CP 闆嗘垚銆? />
  
    <link rel="stylesheet" href="assets/styles.css" />
<style>
    /* Theme toggle: solid icons; show sun on light, moon on dark */
    .btn.theme-toggle{border:0;background:transparent;padding:8px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;line-height:1;color:var(--fg)}
    .btn.theme-toggle:hover{background:rgba(255,255,255,0.10)}
    html[data-theme="light"] .btn.theme-toggle:hover{background:rgba(0,0,0,0.06)}
    .btn.theme-toggle .icon{width:20px;height:20px;display:block}
    html[data-theme="light"] .btn.theme-toggle .sun{display:block}
    html[data-theme="light"] .btn.theme-toggle .moon{display:none}
    html[data-theme="dark"] .btn.theme-toggle .sun{display:none}
    html[data-theme="dark"] .btn.theme-toggle .moon{display:block}
    /* Enlarge navbar logo for better legibility */
    .brand .logo-img{height:56px !important}
  </style>
  <style>@media (max-width:720px){ .brand .logo-img{ height:56px !important } }</style>
</head>
<body>
  <header class="site-header container">
    <div class="brand">
      <img class="logo-img" src="assets/logo.png" alt="JimSQL logo" />
      <span class="brand-text">JimSQL</span>
    </div>
    <nav class="nav">
      <a href="#features">鐗规€?/a>
      <a href="#quickstart">蹇€熷紑濮?/a>
      <a href="#mcp">MCP 闆嗘垚</a>
      <a href="#modules">妯″潡</a>
      <a href="#build">鏋勫缓涓庢祴璇?/a>
      <a href="#roadmap">璺嚎鍥?/a>
    </nav>
    <button id="themeToggle" class="btn theme-toggle" aria-label="鍒囨崲涓婚" title="鍒囨崲涓婚">
      <svg class="icon sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="5" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="11" y="19" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="1" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="19" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(45 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(135 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(225 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(315 12 12)" />
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <defs>
          <mask id="moon-mask">
            <rect width="24" height="24" fill="white" />
            <circle cx="14" cy="10" r="7" fill="black" />
          </mask>
        </defs>
        <circle cx="12" cy="12" r="8" fill="currentColor" mask="url(#moon-mask)" />
      </svg>
    </button>
    
  </header>

  <main>
    <section class="hero container" id="top">
<!--            <img class="hero-logo" src="assets/logo.png" alt="JimSQL logo" />-->
      <h1 class="title gradient-text">JimSQL</h1>
      <p class="subtitle">Jim Isn't MySQL. 鍩轰簬鏂囦欢绯荤粺鐨勮交閲忕骇鏁版嵁搴撶郴缁?(Java)銆?/p>
      <p class="subtext">绾?Java 路 鍙祵鍏?路 瀹瑰櫒鍖?路 JDBC 鍏煎 路 MCP Ready</p>
      <div class="cta">
        <a class="btn primary" href="#quickstart">蹇€熷紑濮?/a>
        <a class="btn" href="#features">鏌ョ湅鐗规€?/a>
        <a class="btn ghost" href="https://github.com/dafei1288/jimsql" target="_blank" rel="noopener">GitHub</a>
      </div>
    </section>

        <section class="container" id="features">
      <h2>核心特性</h2>
      <div class="grid">
        <div class="card glass">
          <h3>文件即数据库</h3>
          <p>以 CSV 文件为基础的数据存储与访问模型，直观、可视、易于集成现有工具链。</p>
        </div>
        <div class="card glass">
          <h3>轻量服务端</h3>
          <p>基于 Netty 的服务端，启动快、占用低，适合本地与容器环境。</p>
        </div>
        <div class="card glass">
          <h3>JDBC 兼容</h3>
          <p>提供驱动 <code>com.dafei1288.jimsql.jdbc</code>，支持 <code>PreparedStatement</code> 参数绑定；协议 <code>legacy</code>/<code>jspv1</code>（DML 返回值语义不同）。</p>
        </div>
        <div class="card glass">
          <h3>SQL 引擎</h3>
          <ul class="list">
            <li>SELECT 显式投影；ORDER BY / LIMIT</li>
            <li>WHERE 扩展：AND/OR/NOT、()、比较、LIKE、IN、IS [NOT] NULL</li>
            <li>JOIN：INNER / LEFT / CROSS</li>
            <li>GROUP BY / HAVING + 聚合（COUNT/SUM/AVG/MIN/MAX）</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>DML / SHOW</h3>
          <ul class="list">
            <li>DML：INSERT / UPDATE / DELETE（CSV 后端）</li>
            <li>SHOW：DATABASES、TABLES、DESCRIBE、SHOW CREATE TABLE、EXPLAIN</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>内置 ask_llm</h3>
          <p>从 <code>llm.csv</code> 读取配置，可在 SQL 覆盖；支持 OpenAI / 兼容 / Ollama；支持 <code>JIMSQL_LLM_DRYRUN=true</code> 无网络演练。</p>
        </div>
        <div class="card glass">
          <h3>MCP 集成</h3>
          <p>Spring Boot MCP Server，支持 stdio；连接通过环境变量（<code>JIMSQL_URL</code> 或主机/端口/DB/用户/密码）。</p>
        </div>
        <div class="card glass">
          <h3>容器化部署</h3>
          <p>官方镜像与 Compose 示例，一条命令即刻运行；可通过环境变量注入运行参数。</p>
        </div>
      </div>
    </section>

    <section class="container" id="quickstart">
      <h2>蹇€熷紑濮?/h2>
      <div class="grid code-grid">
        <div class="card glass">
          <h3>Docker Compose</h3>
          <pre><code class="language-yaml">version: '3'
services:
  jimsql:
    privileged: true
    image: dafei1288/jimsql_server:1.0.0
    ports:
      - "8821:8821"
      - "8825:8825"
#   volumes:
#     - "./data:/jimsql/data"
    environment:
#     JAVA_OPTS: -agentlib:jdwp=transport=dt_socket,address=*:8825,server=y,suspend=n
      JAVA_ARGS: 8821 0.0.0.0 /jimsql/data</code></pre>
        </div>
        <div class="card glass">
          <h3>鏈湴杩愯 (JAR)</h3>
          <pre><code class="language-bash">java -jar server/target/*-jar-with-dependencies.jar 8821 0.0.0.0 server/src/main/resources/datadir</code></pre>
          <h4>Maven 浠撳簱 (SNAPSHOT)</h4>
          <pre><code class="language-xml">&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;jim&lt;/id&gt;
    &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;</code></pre>
          <h4>JDBC 渚濊禆</h4>
          <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.dafei1288&lt;/groupId&gt;
  &lt;artifactId&gt;jdbc&lt;/artifactId&gt;
  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
        </div>
        <div class="card glass">
          <h3>JDBC 绀轰緥 (Java)</h3>
          <pre><code class="language-java">import java.sql.*;
import java.util.*;

public class TestServer {
  public static void main(String[] args) throws Exception {
    Class.forName("com.dafei1288.jimsql.jdbc.JqDriver");
    Connection conn = DriverManager.getConnection("jdbc:jimsql://localhost:8821/test");
    Statement statement = conn.createStatement();
    ResultSet resultSet = statement.executeQuery("select id,name from user");
    while (resultSet.next()) {
      ResultSetMetaData m = resultSet.getMetaData();
      for (int i = 0; i &lt; m.getColumnCount(); i++) {
        String col = m.getColumnLabel(i);
        System.out.println(col + ": " + resultSet.getString(col));
      }
    }
  }
}</code></pre>
        </div>
      </div>
    </section>

    <section class="container" id="mcp">
      <h2>MCP 闆嗘垚涓庨厤缃?/h2>
      <p>浼樺厛浣跨敤鐜鍙橀噺 <code>JIMSQL_URL</code>銆傚惁鍒欎娇鐢?<code>JIMSQL_HOST</code>/<code>JIMSQL_PORT</code>/<code>JIMSQL_DB</code>/<code>JIMSQL_USER</code>/<code>JIMSQL_PASSWORD</code>銆傚惎鐢?stdio锛?code>MCP_STDIO=true</code> 鎴?JVM 鍙傛暟 <code>-Dmcp.stdio=true</code>銆?/p>
      <div class="grid code-grid">
        <div class="card glass">
          <h3>Windows PowerShell (stdio, granular env)</h3>
          <pre><code class="language-powershell">$env:JIMSQL_HOST="127.0.0.1"
$env:JIMSQL_PORT="8821"
$env:JIMSQL_DB="test"
$env:JIMSQL_USER=""
$env:JIMSQL_PASSWORD=""
$env:MCP_STDIO="true"
java -jar jimsql_mcp_server\target\jimsql_mcp_server-3.3.9.jar</code></pre>
        </div>
        <div class="card glass">
          <h3>Windows PowerShell (stdio, single URL)</h3>
          <pre><code class="language-powershell">$env:JIMSQL_URL="jdbc:jimsql://127.0.0.1:8821/test"
$env:MCP_STDIO="true"
java -jar jimsql_mcp_server\target\jimsql_mcp_server-3.3.9.jar</code></pre>
          <h3>Bash (stdio)</h3>
          <pre><code class="language-bash">JIMSQL_URL="jdbc:jimsql://127.0.0.1:8821/test" MCP_STDIO=true \
  java -jar jimsql_mcp_server/target/jimsql_mcp_server-3.3.9.jar</code></pre>
        </div>
        <div class="card glass">
          <h3>绀轰緥 MCP 瀹㈡埛绔厤缃?/h3>
          <pre><code class="language-json">{
  "mcpServers": {
    "jimsql": {
      "command": "java",
      "args": ["-Dmcp.stdio=true", "-jar", "jimsql_mcp_server/target/jimsql_mcp_server-3.3.9.jar"],
      "env": {
        "JIMSQL_HOST": "127.0.0.1",
        "JIMSQL_PORT": "8821",
        "JIMSQL_DB": "test",
        "JIMSQL_USER": "",
        "JIMSQL_PASSWORD": ""
        // or only: "JIMSQL_URL": "jdbc:jimsql://127.0.0.1:8821/test"
      }
    }
  }
}</code></pre>
        </div>
      </div>
    </section>

    <section class="container" id="modules">
      <h2>妯″潡缁撴瀯</h2>
      <div class="grid">
        <div class="card glass"><h3>common/</h3><p>鍏变韩妯″瀷銆佸厓鏁版嵁涓庡伐鍏枫€?/p></div>
        <div class="card glass"><h3>server/</h3><p>Netty 鏈嶅姟绔紱鍖呭惈 Dockerfile 涓?docker-compose銆?/p></div>
        <div class="card glass"><h3>jdbc/</h3><p>JDBC 椹卞姩锛氬寘鍚?<code>com.dafei1288.jimsql.jdbc</code>銆?/p></div>
        <div class="card glass"><h3>jimsql_mcp_server/</h3><p>Spring Boot MCP 闆嗘垚锛屾敮鎸?stdio銆?/p></div>
      </div>
    </section>

    <section class="container" id="build">
      <h2>鏋勫缓涓庢祴璇?/h2>
      <ul class="list">
        <li>鍏ㄤ粨鏋勫缓锛?code>mvn clean install -DskipTests</code></li>
        <li>鎸夋ā鍧楁瀯寤猴細<code>mvn -pl server -am package -DskipTests</code></li>
        <li>杩愯鏈嶅姟绔?(鏈湴 JAR)锛?code>java -jar server/target/*-jar-with-dependencies.jar 8821 0.0.0.0 server/src/main/resources/datadir</code></li>
        <li>Docker 鍚姩锛?code>docker compose -f server/docker-compose.yml up -d</code></li>
        <li>杩愯娴嬭瘯锛?code>mvn test</code>锛涙寜妯″潡锛?code>mvn -pl jdbc test</code></li>
      </ul>
    </section>

    <section class="container" id="roadmap">
      <h2>璺嚎鍥炬憳瑕?/h2>
      <div class="grid">
        <div class="card glass">
          <h3>璇硶鏀寔</h3>
          <ul class="list">
            <li>SELECT 澧炲己锛欽OIN/WHERE/ORDER/LIMIT/UNION (閮ㄥ垎)</li>
            <li>INSERT锛歏ALUES銆丼ELECT銆丼ET (瑙ｆ瀽)</li>
            <li>璁″垝涓細UPDATE/DELETE銆佷弗鏍?DDL (CREATE/ALTER/DROP)</li>
            <li>SHOW/DESC/EXPLAIN 鍙樹綋涓庢祴璇曞畬鍠?/li>
          </ul>
        </div>
        <div class="card glass">
          <h3>鎵ц璁″垝</h3>
          <ul class="list">
            <li>宸插疄鐜帮細ORDER BY銆丩IMIT/OFFSET锛沇HERE 绠€鍗曟瘮杈?/li>
            <li>瑙勫垝锛欸ROUP BY/HAVING (COUNT/SUM/AVG)</li>
            <li>瑙勫垝锛欽OIN 鎵ц (绛夊€艰繛鎺?</li>
          </ul>
        </div>
      </div>
      <p class="muted">榛樿绔彛锛?821 (server)銆?825 (debug)銆傞粯璁ゆ暟鎹洰褰曪細<code>server/src/main/resources/datadir</code>銆?/p>
    </section>
      <section class="container" id="updates">
      <h2>鏈€杩戞洿鏂?/h2>
      <ul class="list">
        <li>SELECT 鏄惧紡鎶曞奖锛氬彧杩斿洖閫夋嫨鐨勫垪锛涘彸琛ㄥ垪閲囩敤 <code>鍒悕.鍒?/code> 鏍囩</li>
        <li>JOIN 鎵ц涓?WHERE 鎵╁睍锛欰ND/OR/NOT銆両N/NOT IN銆丩IKE/NOT LIKE銆両S [NOT] NULL锛涘垪鍚嶄笉鍖哄垎澶у皬鍐欙紱鏁板€兼瘮杈冩寜鍏冩暟鎹?/li>
        <li>鍐呯疆鍑芥暟 <code>ask_llm</code>锛氭敮鎸?OpenAI / 鍏煎 / Ollama锛涗粠 <code>llm.csv</code> 璇诲彇閰嶇疆锛屽彲鍦?SQL 涓鐩栵紱<code>JIMSQL_LLM_DRYRUN=true</code> 鏃犵綉缁滄紨缁?/li>
        <li>鏃ュ織浣撶郴锛歭ogback锛汭NFO 鎵撳嵃 SQL锛孌EBUG 鎵撳嵃 plan/join/where/llm锛堜笉鎵撳嵃瀵嗛挜锛?/li>
        <li>JDBC PreparedStatement锛氬弬鏁扮粦瀹氫笌 executeQuery/executeUpdate/execute</li>
        <li>缁熶竴 JDK 21锛氭瀯寤轰笌鏂囨。宸茬粺涓€鑷?JDK 21</li>
      </ul>
      <div class="card glass">
        <h3>ask_llm 绀轰緥</h3>
        <pre><code class="language-sql">select ask_llm('浣犲ソ锛屼綘鏄皝锛?) from llm where name='ds';
select ask_llm('浣犲ソ', api_type='ollama', base_url='http://localhost:11434', model='llama3') from llm where name='local';</code></pre>
      </div>
    </section>
  </main>

  <footer class="site-footer container">
    <div>漏 JimSQL. All rights reserved.</div>
    <div class="muted">Built with Java 21+. 鍑嗗濂芥帴鍏ヤ綘鐨勬枃浠朵笌搴旂敤銆?/div>
  </footer>

  <script src="assets/app-light.js"></script>
</body>
</html>










